(()=>{var e={477:e=>{e.exports=class{constructor(e){this.todoList=[],this.projectName=e}addTodo(e){this.todoList.push(e)}removeTodo(e){this.todoList.splice(e,1)}getTodoList(){return this.todoList}}},674:e=>{e.exports=class{constructor(e,t,o,r,c){this.title=e,this.description=t,this.dueDate=o,this.priority=r,this.project=c}}}},t={};function o(r){var c=t[r];if(void 0!==c)return c.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>{let t;try{t=window[e];const o="__storage test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&"QuotaExeededError"===e.name&&t&&0!==t.length}};var t=o(477),r=o.n(t),c=o(674),n=o.n(c);const d=[];if(e("localStorage")){const e=JSON.parse(localStorage.getItem("Projects"));if(e)e.forEach((e=>{const t=new(r())(e.projectName);e.todoList.forEach((e=>{t.addTodo(new(n())(e.title,e.description,e.dueDate,e.priority,e.project))})),d.push(t)}));else{const e=new(r())("Home");d.push(e),localStorage.setItem("Projects",JSON.stringify(d))}}else{const e=new(r())("Home");d.push(e)}const s=e=>{const t=document.querySelector(".project-continer");t.innerHTML="",e.forEach((e=>{const o=document.createElement("button");o.classList.add("project-nav-btns"),o.addEventListener("click",(()=>{l(e.projectName)})),o.textContent=e.projectName,t.appendChild(o)}))},a=t=>{const o=document.querySelector(".todo-container");o.innerHTML="",t.forEach(((t,r)=>{const c=document.createElement("div");c.classList.add("todo-div");let n=document.createElement("button");n.textContent="x",n.classList.add("delete-todo-btn"),n.addEventListener("click",(()=>{d.forEach((o=>{o.projectName===t.project&&(o.removeTodo(r),e("localStorage")&&localStorage.setItem("Projects",JSON.stringify(d)),l(o.projectName))}))})),c.appendChild(n);let s=document.createElement("h3");s.textContent=t.title,c.appendChild(s);let a=document.createElement("p");a.textContent=`Description: ${t.description}`,c.appendChild(a);let i=document.createElement("p");i.textContent=`Due on: ${t.dueDate}`,c.appendChild(i);let u=document.createElement("p");u.textContent=`Priority: ${t.priority}`,c.appendChild(u),o.appendChild(c)}))},i=()=>{const e=[];d.forEach((t=>{t.getTodoList().forEach((t=>{e.push(t)}))})),a(e)},l=e=>{if("Home"===e)return i();d.forEach((t=>{t.projectName===e&&a(t.getTodoList())}))},u=document.querySelector(".modal"),m=document.querySelector("#TodoForm"),p=document.querySelector("#TodoFormTitle"),h=document.querySelector("#TodoFormDesc"),v=document.querySelector("#TodoFormDate"),y=document.querySelector("#projectDropDown"),S=document.querySelector(".overlay"),L=document.querySelector("#open-new-todo"),j=document.querySelector(".close-btn"),E=document.querySelector("#todoSubBtn"),f=()=>{m.reset(),u.classList.add("hidden"),u.classList.remove("flex"),S.classList.add("hidden")},g=document.querySelector("#projectModalSection"),x=document.querySelector("#projectForm"),q=document.querySelector("#projectSubBtn"),w=document.querySelector(".overlay"),T=document.getElementById("open-new-project"),C=document.querySelector("#closeProjectFormBtn"),N=document.querySelector("#ProjectFormTitle"),D=()=>{x.reset(),g.classList.add("hidden"),g.classList.remove("flex"),w.classList.add("hidden")};L.addEventListener("click",(()=>{u.classList.remove("hidden"),u.classList.add("flex"),S.classList.remove("hidden"),y.innerHTML="",v.valueAsDate=new Date,d.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e.projectName),t.textContent=e.projectName,y.appendChild(t)}))})),j.addEventListener("click",f),E.addEventListener("click",(()=>{const t=document.querySelector("input[name=priority]:checked");if(""!==p.value&&""!==h.value&&""!==v.value&&t){const o=new(n())(p.value,h.value,v.value,t.value,y.value);d.forEach((e=>{o.project===e.projectName&&e.addTodo(o)})),l(y.value),f(),e("localStorage")&&localStorage.setItem("Projects",JSON.stringify(d))}else window.alert("You missed something.")})),T.addEventListener("click",(()=>{g.classList.remove("hidden"),g.classList.add("flex"),w.classList.remove("hidden")})),C.addEventListener("click",D),q.addEventListener("click",(()=>{if(""===N.value)window.alert("Be so kind and actually give it name, ok?");else{const t=new(r())(N.value);d.push(t),D(),s(d),e("localStorage")&&localStorage.setItem("Projects",JSON.stringify(d))}})),s(d),i(),l()})()})();