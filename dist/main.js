(()=>{var e={477:e=>{e.exports=class{constructor(e){this.todoList=[],this.projectName=e}addTodo(e){this.todoList.push(e)}removeTodo(e){this.todoList.splice(e,1)}getTodoList(){return this.todoList}}},674:e=>{e.exports=class{constructor(e,t,o,r,c){this.title=e,this.description=t,this.dueDate=o,this.priority=r,this.project=c}}}},t={};function o(r){var c=t[r];if(void 0!==c)return c.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>{let t;try{t=window[e];const o="__storage test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&"QuotaExeededError"===e.name&&t&&0!==t.length}};var t=o(477),r=o.n(t),c=o(674),n=o.n(c);const d=[];if(e("localStorage")){const e=JSON.parse(localStorage.getItem("Projects"));if(e)e.forEach((e=>{const t=new(r())(e.projectName);e.todoList.forEach((e=>{t.addTodo(new(n())(e.title,e.description,e.dueDate,e.priority,e.project))})),d.push(t)}));else{const e=new(r())("Home");d.push(e),localStorage.setItem("Projects",JSON.stringify(d))}}else{const e=new(r())("Home");d.push(e)}const s=e=>{const t=document.querySelector(".project-continer");t.innerHTML="",e.forEach((e=>{const o=document.createElement("button");o.classList.add("project-nav-btns"),o.addEventListener("click",(()=>{i(e.projectName)})),o.textContent=e.projectName,t.appendChild(o)}))},a=t=>{const o=document.querySelector(".todo-container");o.innerHTML="",t.forEach(((t,r)=>{const c=document.createElement("div");c.classList.add("todo-div");let n=document.createElement("button");n.textContent="x",n.classList.add("delete-todo-btn"),n.addEventListener("click",(()=>{d.forEach((o=>{o.projectName===t.project&&(o.removeTodo(r),e("localStorage")&&localStorage.setItem("Projects",JSON.stringify(d)),i(o.projectName))}))})),c.appendChild(n);let s=document.createElement("h3");s.textContent=t.title,c.appendChild(s);let a=document.createElement("p");a.textContent=`Description: ${t.description}`,c.appendChild(a);let l=document.createElement("p");l.textContent=`Due on: ${t.dueDate}`,c.appendChild(l);let u=document.createElement("p");u.textContent=`Priority: ${t.priority}`,c.appendChild(u),o.appendChild(c)}))},l=()=>{const e=[];d.forEach((t=>{t.getTodoList().forEach((t=>{e.push(t)}))})),a(e)},i=e=>{if(u(e),"Home"===e)return l();d.forEach((t=>{t.projectName===e&&a(t.getTodoList())}))},u=e=>{document.querySelector("#taskHeader").textContent=e},m=document.querySelector(".modal"),p=document.querySelector("#TodoForm"),h=document.querySelector("#TodoFormTitle"),v=document.querySelector("#TodoFormDesc"),y=document.querySelector("#TodoFormDate"),S=document.querySelector("#projectDropDown"),L=document.querySelector(".overlay"),j=document.querySelector("#open-new-todo"),E=document.querySelector(".close-btn"),f=document.querySelector("#todoSubBtn"),g=()=>{p.reset(),m.classList.add("hidden"),m.classList.remove("flex"),L.classList.add("hidden")},x=document.querySelector("#projectModalSection"),q=document.querySelector("#projectForm"),w=document.querySelector("#projectSubBtn"),T=document.querySelector(".overlay"),C=document.getElementById("open-new-project"),N=document.querySelector("#closeProjectFormBtn"),k=document.querySelector("#ProjectFormTitle"),D=()=>{q.reset(),x.classList.add("hidden"),x.classList.remove("flex"),T.classList.add("hidden")};j.addEventListener("click",(()=>{m.classList.remove("hidden"),m.classList.add("flex"),L.classList.remove("hidden"),S.innerHTML="",y.valueAsDate=new Date,d.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e.projectName),t.textContent=e.projectName,S.appendChild(t)}))})),E.addEventListener("click",g),f.addEventListener("click",(()=>{const t=document.querySelector("input[name=priority]:checked");if(""!==h.value&&""!==v.value&&""!==y.value&&t){const o=new(n())(h.value,v.value,y.value,t.value,S.value);d.forEach((e=>{o.project===e.projectName&&e.addTodo(o)})),i(S.value),g(),e("localStorage")&&localStorage.setItem("Projects",JSON.stringify(d))}else window.alert("You missed something.")})),C.addEventListener("click",(()=>{x.classList.remove("hidden"),x.classList.add("flex"),T.classList.remove("hidden")})),N.addEventListener("click",D),w.addEventListener("click",(()=>{if(""===k.value)window.alert("Be so kind and actually give it name, ok?");else{const t=new(r())(k.value);d.push(t),D(),s(d),e("localStorage")&&localStorage.setItem("Projects",JSON.stringify(d))}})),s(d),l(),i("Home")})()})();